(this["webpackJsonpboc-leaft"]=this["webpackJsonpboc-leaft"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},108:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),i=a(23),c=a.n(i),s=a(29),o=a(4),l=a(5),d=a(6),u=a(9),j=a(8),b=a(16),h=a(12),p=a(7),O=a(34),m=a(62),f=a(36),v=a(1),x=[{title:"Home",path:"/",cName:"nav-links",icon:Object(v.jsx)(O.c,{className:"navbar-icons"})},{title:"Driver",path:"/driver",cName:"nav-links",icon:Object(v.jsx)(O.a,{className:"navbar-icons"})},{title:"Rider",path:"/rider",cName:"nav-links",icon:Object(v.jsx)(m.a,{className:"navbar-icons"})},{title:"Balance",path:"/balance-update",cName:"nav-links",icon:Object(v.jsx)(O.b,{className:"navbar-icons"})},{title:"Tip Driver",path:"/balance-transfer",cName:"nav-links",icon:Object(v.jsx)(f.b,{className:"navbar-icons"})}],g=a(65),k=a.p+"static/media/logo.8c5ae3b4.png",C=(a(76),a(11)),y=a.n(C);var w=function(e){e.isLoggedIn;var t=Object(n.useState)(!1),a=Object(p.a)(t,2),r=a[0],i=a[1],c=Object(n.useContext)(he),s=function(){return i(!r)};return Object(v.jsx)("div",{children:Object(v.jsxs)("div",{className:"nav",children:[Object(v.jsx)("div",{id:"logo",children:Object(v.jsx)("img",{className:"logo",src:k,alt:"logo"})}),Object(v.jsxs)("div",{className:"menu-icon",children:[!r&&Object(v.jsx)(f.a,{className:"nav-icon",onClick:s}),r&&Object(v.jsx)(f.c,{className:"nav-icon",onClick:s})]}),Object(v.jsxs)("ul",{className:r?"nav-menu active":"nav-menu",children:[x.map((function(e,t){return Object(v.jsx)(b.b,{to:e.path,className:e.cName,children:Object(v.jsxs)("li",{"data-testid":"navbar-".concat(e.title),children:[e.icon,Object(v.jsx)("span",{className:"nav-link-text",children:"Balance"===e.title?"".concat(e.title,": $").concat(c.balance.toFixed(2)):e.title})]},t)},t)})),Object(v.jsx)(b.b,{to:"/login",className:"nav-links",onClick:function(){return y.a.get("/api/logins/logout")},children:Object(v.jsxs)("li",{className:"nav-text",children:[Object(v.jsx)(g.a,{className:"navbar-icons"}),Object(v.jsx)("span",{className:"nav-link-text",children:"Logout"})]})})]})]})})},N=a.p+"static/media/cars.0167fb64.png",R=(a(102),function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(w,{}),Object(v.jsx)("div",{id:"car-image",children:Object(v.jsx)("img",{src:N,alt:"cars in town"})}),Object(v.jsxs)("div",{id:"main-page-buttons",children:[Object(v.jsx)(b.c,{className:"main-page-button",to:"/driver",children:"Driver"}),Object(v.jsx)(b.c,{className:"main-page-button",to:"/rider",children:"Rider"})]})]})}),S=(a(103),function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handlePassword=n.handlePassword.bind(Object(d.a)(n)),n.handleEmail=n.handleEmail.bind(Object(d.a)(n)),n.submitForm=n.submitForm.bind(Object(d.a)(n)),n.state={email:"",password:"",isLoggedIn:n.props.isLoggedIn||!1,errorMessage:""},n}return Object(l.a)(a,[{key:"handlePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleEmail",value:function(e){this.setState({email:e.target.value})}},{key:"submitForm",value:function(e){var t=this;e.preventDefault(),""!==this.state.email&&""!==this.state.password||alert("Please Fill Out The Entire Form"),y.a.post("/api/logins/login",this.state).then((function(e){t.props.login(e.data),t.setState({isLoggedIn:!0})})).catch((function(e){console.log(e.response),t.setState({errorMessage:e.response.data})}))}},{key:"render",value:function(){var e=this;return this.state.isLoggedIn?Object(v.jsx)(h.a,{to:"/"}):Object(v.jsxs)("div",{className:"fpage",children:[Object(v.jsx)("div",{className:"wave",children:Object(v.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:Object(v.jsx)("path",{d:"M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z",className:"shape-fill"})})}),Object(v.jsxs)("div",{id:"login-register",children:[Object(v.jsx)("h4",{children:"Login"}),Object(v.jsx)("div",{id:"login-form",children:Object(v.jsxs)("form",{onChange:function(){e.setState({errorMessage:""})},onSubmit:function(t){return e.submitForm(t)},children:[Object(v.jsx)("input",{type:"email",id:"login_email",placeholder:"Email:",name:"email",onChange:function(t){return e.handleEmail(t)},required:!0}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"password",id:"login_password",placeholder:"Password:",name:"password",minLength:"6",onChange:function(t){return e.handlePassword(t)},required:!0}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"submit",value:"Submit",id:"login-submit-button"})]})}),Object(v.jsxs)("div",{className:"footer1",children:[Object(v.jsxs)("h5",{id:"new-here",children:["New Here? ",Object(v.jsx)(b.c,{id:"nav1",to:"/register",children:"Register"})]}),Object(v.jsx)("div",{className:"custom-shape-divider-bottom-1636512691",children:Object(v.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:Object(v.jsx)("path",{d:"M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z",className:"shape-fill"})})})]}),""!==this.state.errorMessage&&Object(v.jsx)("h5",{children:this.state.errorMessage})]})]})}}]),a}(r.a.Component)),D=a(44),M=(a(104),["errorMessage"]),P=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(d.a)(n)),n.register=n.register.bind(Object(d.a)(n)),n.state={firstName:"",lastName:"",email:"",phone:"",password:"",errorMessage:"",success:!1},n}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(s.a)({},e.target.id,e.target.value))}},{key:"register",value:function(e){var t=this;if(e.preventDefault(),this.checkForm()){var a=this.state,n=(a.errorMessage,Object(D.a)(a,M));y.a.post("/api/logins/register",n).then((function(e){t.props.login(e.data),t.setState({success:!0})})).catch((function(e){console.log(e.response.data),t.setState({errorMessage:e.response.data})}))}else alert("Please Fill Out The Entire form")}},{key:"checkForm",value:function(){for(var e in this.state)if(""===this.state[e]&&"errorMessage"!==e)return!1;return console.log("testing"),!0}},{key:"render",value:function(){var e=this;return this.state.success?Object(v.jsx)(h.a,{to:"/"}):Object(v.jsxs)("div",{id:"fPage",children:[Object(v.jsx)("div",{className:"wave",children:Object(v.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:Object(v.jsx)("path",{d:"M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z",className:"shape-fill"})})}),Object(v.jsxs)("div",{id:"register",children:[Object(v.jsx)("h4",{children:"Create an Account"}),Object(v.jsx)("div",{id:"register-form",children:Object(v.jsxs)("form",{onChange:function(){e.setState({errorMessage:""})},onSubmit:function(t){return e.register(t)},children:[Object(v.jsx)("input",{type:"text",id:"firstName",placeholder:"First Name:",onChange:function(t){return e.handleChange(t)},required:!0}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",id:"lastName",placeholder:"Last Name:",onChange:function(t){return e.handleChange(t)},required:!0}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"email",id:"email",placeholder:"Email:",onChange:function(t){return e.handleChange(t)},required:!0}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"tel",id:"phone",placeholder:"Phone Number:",onChange:function(t){return e.handleChange(t)},required:!0}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"password",id:"password",placeholder:"Password:",minLength:"6",onChange:function(t){return e.handleChange(t)},required:!0}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{className:"register-buttons",type:"submit",value:"Submit"})]})}),Object(v.jsxs)("div",{className:"footer",children:[Object(v.jsxs)("h5",{id:"already-have-account",children:["Already Have An Account? ",Object(v.jsx)(b.c,{id:"nav",to:"/login",children:"Sign In"})]}),Object(v.jsx)("div",{class:"custom-shape-divider-bottom-1636512691",children:Object(v.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:Object(v.jsx)("path",{d:"M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z",class:"shape-fill"})})}),""!==this.state.errorMessage&&Object(v.jsx)("h5",{children:this.state.errorMessage})]})]})]})}}]),a}(r.a.Component),T=(a(105),function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={driver_id:n.props.userId,pickUp:"",dropOff:"",departure:"",seats:"",date:"",error:""},n.submitHandle=n.submitHandle.bind(Object(d.a)(n)),n.handleChange=n.handleChange.bind(Object(d.a)(n)),n}return Object(l.a)(a,[{key:"submitHandle",value:function(e){var t=this;e.preventDefault();var a=this.state;delete a.error,y.a.post("/api/drivers/create",a).then((function(e){"string"!==typeof e.data||"Created"===e.data?(t.props.getRoutes(),t.props.closeForm()):t.setState({error:e.data})})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){var t=e.target.id;this.setState(Object(s.a)({},t,e.target.value))}},{key:"render",value:function(){return Object(v.jsxs)("div",{className:"driver-modal",children:[Object(v.jsx)("div",{id:"close-button",onClick:this.props.closeForm,children:"X"}),Object(v.jsx)("h2",{id:"form-title",children:"Enter your ride info: "}),Object(v.jsx)("div",{id:"form-note",children:"Note: your pick-up and drop-off locations will be publicly viewable. Please only input public addresses (e.g. Union Square, NY)"}),Object(v.jsxs)("form",{className:"route-form",onSubmit:this.submitHandle,children:[Object(v.jsxs)("label",{children:["Pick-Up Location:",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",id:"pickUp",value:this.state.pickUp,onChange:this.handleChange})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("label",{children:["Drop-Off Location:",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",id:"dropOff",value:this.state.dropOff,onChange:this.handleChange})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("table",{id:"driver-form-table",children:Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Date:"}),Object(v.jsxs)("td",{children:[" ",Object(v.jsx)("input",{type:"date",id:"date",value:this.state.date,onChange:this.handleChange})]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"Departure Time:"}),Object(v.jsx)("td",{children:Object(v.jsx)("input",{type:"time",id:"departure",value:this.state.departure,onChange:this.handleChange})})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:"# of Seats:"}),Object(v.jsx)("td",{children:Object(v.jsx)("input",{type:"number",id:"seats",min:"1",max:"6",value:this.state.seats,onChange:this.handleChange})})]})]})}),Object(v.jsx)("input",{id:"submit-button",type:"submit",value:"Submit Ride"}),this.state.error&&Object(v.jsx)("h5",{className:"error",children:this.state.error})]})]})}}]),a}(r.a.Component)),B=a(38),L=[{featureType:"water",elementType:"all",stylers:[{hue:"#76aee3"},{saturation:38},{lightness:-11},{visibility:"on"}]},{featureType:"road.highway",elementType:"all",stylers:[{hue:"#8dc749"},{saturation:-47},{lightness:-17},{visibility:"on"}]},{featureType:"poi.park",elementType:"all",stylers:[{hue:"#c6e3a4"},{saturation:17},{lightness:-2},{visibility:"on"}]},{featureType:"road.arterial",elementType:"all",stylers:[{hue:"#cccccc"},{saturation:-100},{lightness:13},{visibility:"on"}]},{featureType:"administrative.land_parcel",elementType:"all",stylers:[{hue:"#5f5855"},{saturation:6},{lightness:-31},{visibility:"on"}]},{featureType:"road.local",elementType:"all",stylers:[{hue:"#ffffff"},{saturation:-100},{lightness:100},{visibility:"simplified"}]},{featureType:"water",elementType:"all",stylers:[]}],F=a(46),U=(a(60),function(e){e.lat,e.lng;var t=e.onClick,a=void 0===t?function(){}:t;return Object(v.jsx)("div",{className:"start-marker",onClick:a,children:Object(v.jsx)(F.a,{icon:"ri:leaf-fill",className:"start-icon icon"})})}),I=function(e){e.lat,e.lng;return Object(v.jsx)("div",{className:"end-marker",children:Object(v.jsx)(F.a,{icon:"ri:leaf-fill",className:"end-icon icon"})})},E=function(e){e.lat,e.lng;return Object(v.jsx)("div",{className:"location-marker",children:Object(v.jsx)(F.a,{icon:"gis:point",className:"location-icon icon"})})},H=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={zoom:11,center:void 0!==n.props.selectedRoute.departure?n.props.selectedRoute.pickUpCoords:{lat:40.758,lng:-73.9855},key:"",loaded:!1,reRender:!0,showMarkers:!1},n.reRender=n.reRender.bind(Object(d.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("routes-list").addEventListener("click",(function(t){"table"===t.target.parentNode.parentNode.parentNode.getAttribute("role")&&(e.setState({showMarkers:!0}),e.reRender())}),!1),y.a.get("/api/key").then((function(t){e.setState({key:t.data,loaded:!0})})).catch((function(e){console.log(e)}))}},{key:"reRender",value:function(){this.setState({reRender:!this.state.reRender})}},{key:"render",value:function(){var e={width:"100vw",height:"45vh",marginBottom:"30px"},t=this.props.selectedRoute;console.log("selectedroute",t);return this.state.loaded&&void 0!==t.departure?Object(v.jsx)("div",{style:e,children:Object(v.jsxs)(B.a,{options:{styles:L},bootstrapURLKeys:{key:this.state.key},defaultCenter:this.state.center,defaultZoom:this.state.zoom,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var a=e.map;e.maps;return function(e,a){var n=new window.google.maps.DirectionsService,r=new window.google.maps.DirectionsRenderer({suppressMarkers:!0,polylineOptions:{strokeColor:"green",strokeWeight:5}});r.setMap(e);var i=t.pickUpCoords,c=t.dropOffCoords;n.route({origin:i,destination:c,travelMode:window.google.maps.TravelMode.DRIVING},(function(e,t){t===window.google.maps.DirectionsStatus.OK?r.setDirections(e):console.log("error",e)}))}(a)},children:[this.state.showMarkers?Object(v.jsx)(U,{lat:t.latPickUp,lng:t.lngPickUp}):null,this.state.showMarkers?Object(v.jsx)(I,{lat:t.latDropOff,lng:t.lngDropOff}):null]},this.state.reRender)}):this.state.loaded&&!t.departure?Object(v.jsx)("div",{style:e,children:Object(v.jsx)(B.a,{options:{styles:L},bootstrapURLKeys:{key:this.state.key},defaultCenter:this.state.center,defaultZoom:this.state.zoom})}):Object(v.jsx)("div",{children:"Loading..."})}}]),a}(r.a.Component),_=a(10),A=a(50),V=function(e){var t=e.routes,a=e.cancelRoute,n=e.showRoute,i=r.a.useMemo((function(){return t}),[t]),c=r.a.useMemo((function(){return[{Header:"Pick-Up",accessor:"pickUp"},{Header:"Drop-Off",accessor:"dropOff"},{Header:"Departure",accessor:"dateTime"}]}),[]),s=r.a.useMemo((function(){return{minWidth:10,width:150,maxWidth:90}}),[]),o=Object(A.useTable)({columns:c,data:i,defaultColumn:s},A.useFlexLayout),l=o.getTableProps,d=o.getTableBodyProps,u=o.headerGroups,j=o.rows,b=o.prepareRow;return Object(v.jsxs)("table",Object(_.a)(Object(_.a)({},l()),{},{children:[Object(v.jsx)("thead",{children:u.map((function(e){return Object(v.jsx)("tr",Object(_.a)(Object(_.a)({},e.getHeaderGroupProps()),{},{id:"table-header",children:e.headers.map((function(e){return Object(v.jsx)("th",Object(_.a)(Object(_.a)({},e.getHeaderProps()),{},{id:e.Header.toLowerCase(),children:e.render("Header")}))}))}))}))}),Object(v.jsx)("tbody",Object(_.a)(Object(_.a)({},d()),{},{children:j.map((function(e,t){return b(e),Object(v.jsxs)("tr",Object(_.a)(Object(_.a)({},e.getRowProps()),{},{className:"table-row",children:[e.original.confirmed?Object(v.jsx)("td",{className:"cancel",style:{color:"green"},id:e.original.id,children:"O"}):Object(v.jsx)("td",{className:"cancel",onClick:a,id:e.original.id,children:"X"}),e.cells.map((function(t){return Object(v.jsx)("td",Object(_.a)(Object(_.a)({},t.getCellProps()),{},{onClick:n,className:e.original.confirmed?"confirmed-route":"",children:t.render("Cell")}))}))]}))}))}))]}))},W=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).cancelRoute=n.cancelRoute.bind(Object(d.a)(n)),n.showRoute=n.showRoute.bind(Object(d.a)(n)),n}return Object(l.a)(a,[{key:"cancelRoute",value:function(e){var t=this;e.currentTarget.parentNode.parentNode.childNodes.forEach((function(e){e.style["background-color"]=""})),this.props.selectRoute({});var a=e.target.id;y.a.put("/api/drivers/routes",{routeId:a}).then((function(e){t.props.getRoutes()})).catch((function(e){console.log(e)}))}},{key:"showRoute",value:function(e){var t=this,a=e.currentTarget.parentNode.childNodes,n=e.currentTarget.parentNode;n.parentNode.childNodes.forEach((function(e){e.style["background-color"]=""})),n.style["background-color"]="rgb(20, 213, 104)";var r=Number(a[0].id);this.props.routes.forEach((function(e){e.id!==r||t.props.selectRoute(e)}))}},{key:"render",value:function(){return Object(v.jsxs)("div",{id:"routes-list-wrapper",children:[Object(v.jsxs)("div",{id:"routes-list-intro",children:["Hi, ",this.props.driverName,"! Here are your upcoming routes:"]}),Object(v.jsx)("div",{id:"routes-list",children:Object(v.jsx)(V,{routes:this.props.routes,cancelRoute:this.cancelRoute,showRoute:this.showRoute})})]})}}]),a}(r.a.Component),G=(a(108),a(70)),K=(a(61),function(e){var t=e.notificationData.route,a=t.pickUp,n=t.dropOff,r=t.departure,i=e.notificationData.riderName,c=e.userData.first_name;return Object(v.jsxs)("div",{id:"notification",children:[Object(v.jsx)("h2",{children:"Confirmation"}),Object(v.jsxs)("div",{children:["Hi ",Object(v.jsxs)("strong",{children:[" ",c," "]})]}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("strong",{children:[" ",i," "]})," has chosen one of your routes! Please meet them at Pick-Up Location by Departure Time."]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("strong",{children:"Pick-Up Location: "})," ",a]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("strong",{children:"Drop-Off Location: "})," ",n]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("strong",{children:"Departure Time: "})," ",r]}),Object(v.jsx)("button",{onClick:e.handleConfirmation,children:"Confirm Ride"})]})}),q=function(e){var t=e.userData.first_name,a=e.notificationData.riderName;return Object(v.jsxs)("div",{id:"notification",children:[Object(v.jsx)("h2",{children:"Rider Cancelled"}),Object(v.jsxs)("div",{children:["Hi ",Object(v.jsxs)("strong",{children:[" ",t," "]})]}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("strong",{children:[" ",a," "]}),"has cancelled. Your ride has become available for another rider to join."]}),Object(v.jsx)("button",{onClick:e.handleCancellation,children:"OK"})]})},Y=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={formModal:!1,routes:[],selectedRoute:{},userData:{},loaded:!1,confirm:!1,cancel:!1,notificationData:null,userId:n.props.userId},n.getRoutes=n.getRoutes.bind(Object(d.a)(n)),n.selectRoute=n.selectRoute.bind(Object(d.a)(n)),n.showForm=n.showForm.bind(Object(d.a)(n)),n.closeForm=n.closeForm.bind(Object(d.a)(n)),n.connectToSocket=n.connectToSocket.bind(Object(d.a)(n)),n.handleConfirmation=n.handleConfirmation.bind(Object(d.a)(n)),n.handleCancellation=n.handleCancellation.bind(Object(d.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.connectToSocket(),this.getRoutes(),document.addEventListener("click",(function(t){e.state.modal&&!t.target.closest(".driver-modal")&&"make-new-route"!==t.target.id&&e.closeForm()}),!1)}},{key:"connectToSocket",value:function(){var e=this,t=Object({NODE_ENV:"production",PUBLIC_URL:"/leaft",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),a=Object(G.a)(t),n=this.props.userId;a.on("confirmRoute",(function(t){t.route.driver_id===n&&(e.state.notificationData=t,e.state.confirm=!0,e.getRoutes())})),a.on("cancelRoute",(function(t){t.driverId===n&&(e.state.notificationData=t,e.state.cancel=!0,e.getRoutes())}))}},{key:"handleConfirmation",value:function(){this.setState({confirm:!this.state.confirm})}},{key:"handleCancellation",value:function(){this.setState({cancel:!this.state.cancel})}},{key:"showForm",value:function(){this.setState({modal:!0})}},{key:"closeForm",value:function(){this.setState({modal:!1})}},{key:"selectRoute",value:function(e){this.setState({selectedRoute:e})}},{key:"getRoutes",value:function(){var e=this;y.a.get("/api/drivers/routes?driver_id=".concat(this.state.userId)).then((function(t){var a=t.data;a.forEach((function(e){e.pickUpCoords={lat:Number(e.latPickUp),lng:Number(e.lngPickUp)},e.dropOffCoords={lat:Number(e.latDropOff),lng:Number(e.lngDropOff)},e.dateTime=new Date("".concat(e.date," ").concat(e.departure)).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})})),a.sort((function(e,t){return new Date(e.dateTime)-new Date(t.dateTime)})),e.setState({routes:a,loaded:!0})}))}},{key:"render",value:function(){var e=this;return this.state.loaded?Object(v.jsx)(he.Consumer,{children:function(t){return Object(v.jsxs)("div",{id:"driver-container",children:[Object(v.jsx)(w,{}),Object(v.jsxs)("div",{id:"driver-wrapper",children:[Object(v.jsx)(H,{routes:e.state.routes,selectedRoute:e.state.selectedRoute}),Object(v.jsx)(W,{routes:e.state.routes,getRoutes:e.getRoutes,driverName:t.first_name,selectRoute:e.selectRoute}),Object(v.jsx)("button",{onClick:e.showForm,id:"make-new-route",children:"Make New Route"})]}),e.state.modal&&Object(v.jsx)(T,{getRoutes:e.getRoutes,closeForm:e.closeForm,userId:t.id}),e.state.confirm&&Object(v.jsx)(K,{handleConfirmation:e.handleConfirmation,notificationData:e.state.notificationData,userData:t}),e.state.cancel&&Object(v.jsx)(q,{handleCancellation:e.handleCancellation,notificationData:e.state.notificationData,userData:t})]})}}):Object(v.jsx)("div",{children:"Loading..."})}}]),a}(r.a.Component),Z=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),r=a[0],i=a[1],c=Object(n.useState)(!1),s=Object(p.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(11),u=Object(p.a)(d,2),j=u[0],b=(u[1],Object(n.useState)({lat:40.758,lng:-73.9855})),h=Object(p.a)(b,2),O=h[0];h[1];Object(n.useEffect)((function(){y.a.get("api/key").then((function(e){i(e.data),l(!0)})).catch((function(e){console.log("error in axios get api key",e)}))}),[]);return o?Object(v.jsx)("div",{id:"MapContainer",children:Object(v.jsxs)(B.a,{scrollwheel:!1,options:{styles:L},bootstrapURLKeys:{key:r},defaultCenter:O,defaultZoom:j,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var a=t.map;t.maps;return function(t,a){if(e.markerClicked&&null!==e.whichMarkerClicked||e.rideConfirmed){var n=new window.google.maps.DirectionsService,r=new window.google.maps.DirectionsRenderer({suppressMarkers:!0,polylineOptions:{strokeColor:"green",strokeWeight:5}});r.setMap(t);var i={lat:parseFloat((e.nearbyRides[e.whichMarkerClicked]?e.nearbyRides[e.whichMarkerClicked]:e.confirmedRide).latPickUp),lng:parseFloat((e.nearbyRides[e.whichMarkerClicked]?e.nearbyRides[e.whichMarkerClicked]:e.confirmedRide).lngPickUp)},c={lat:parseFloat((e.nearbyRides[e.whichMarkerClicked]?e.nearbyRides[e.whichMarkerClicked]:e.confirmedRide).latDropOff),lng:parseFloat((e.nearbyRides[e.whichMarkerClicked]?e.nearbyRides[e.whichMarkerClicked]:e.confirmedRide).lngDropOff)};console.log("\ud83e\udec0",i,c),n.route({origin:i,destination:c,travelMode:window.google.maps.TravelMode.DRIVING},(function(e,t){t===window.google.maps.DirectionsStatus.OK?r.setDirections(e):console.log("error",e)}))}}(a)},children:[Object(v.jsx)(E,{lat:e.riderLocation.lat,lng:e.riderLocation.lng}),e.nearbyRides.map((function(t,a){return Object(v.jsx)(U,{lat:t.latPickUp,lng:t.lngPickUp,onClick:function(){return e.handleMarkerClick(a)}},a)})),e.markerClicked&&null!==e.whichMarkerClicked||e.rideConfirmed?Object(v.jsx)(I,{lat:(e.nearbyRides[e.whichMarkerClicked]?e.nearbyRides[e.whichMarkerClicked]:e.confirmedRide).latDropOff,lng:(e.nearbyRides[e.whichMarkerClicked]?e.nearbyRides[e.whichMarkerClicked]:e.confirmedRide).lngDropOff}):null]},e.reRender)}):Object(v.jsx)("div",{children:"Loading..."})},$=(a(113),a(30)),z=a(42),J=a.n(z),X=a(43),Q=a.n(X),ee=a.p+"static/media/location.33a78375.svg";$.a.plugin(J.a),$.a.plugin(Q.a);var te=function(e){var t=Object(n.useContext)(he),a=e.nearbyRides.map((function(t,a){var n=new Date("".concat(t.date," ").concat(t.departure)),r=$.a.format(n,"dddd, MMM DDD hh:mm a");return Object(v.jsxs)("div",{className:"listItem",onClick:function(){return e.handleSelectRide(a)},children:[Object(v.jsx)("img",{className:"locationIcon",src:ee,alt:"location icon"}),Object(v.jsxs)("div",{className:"destinationDetails",children:[Object(v.jsx)("span",{className:"destinationListName",children:t.dropOff}),Object(v.jsxs)("span",{className:"destinationListPickupDetails",children:["Pick up : ",r]})]})]},a)}));return Object(v.jsxs)("div",{className:"RideList RiderBtmPanel",children:[Object(v.jsxs)("div",{id:"greetingContainer",children:[Object(v.jsxs)("span",{id:"greetingContainerGreeting",children:["Nice to see you, ",t.first_name,"!"]}),Object(v.jsx)("span",{id:"greetingContainerQuestion",children:"Where are you going?"})]}),Object(v.jsx)("div",{id:"list",children:a})]})};$.a.plugin(J.a),$.a.plugin(Q.a);var ae=function(e){var t=new Date("".concat(e.ride.date," ").concat(e.ride.departure)),a=$.a.format(t,"dddd, MMM DDD hh:mm a");return Object(v.jsxs)("div",{className:"RiderBtmPanel",id:"SelectedRide",children:[Object(v.jsxs)("div",{id:"confirmationPage",children:[Object(v.jsx)("span",{id:"confirmationPageHeader",children:e.rideConfirmed?"Ride details:":"Here are the ride's details:"}),Object(v.jsxs)("ul",{id:"fullRideDetails",children:[Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"rideDetail",children:"Pick up time: "}),a||"Tuesday, Nov 18th at 9am"]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"rideDetail",children:"Pick up location: "}),e.ride.pickUp]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"rideDetail",children:"Drop off location: "}),e.ride.dropOff]}),Object(v.jsxs)("li",{children:[Object(v.jsx)("span",{className:"rideDetail",children:"Driver's Name: "}),e.ride.driver?e.ride.driver.first_name:"Nate"]})]})]}),e.rideConfirmed?Object(v.jsxs)("div",{className:"btnsContainer",children:[Object(v.jsx)("button",{className:"pageBtn cancelRideBtn",onClick:e.handlePostConfirmationCanellationBtnPress,children:"Cancel"}),Object(v.jsx)(b.c,{to:{pathname:"balance-transfer",email:e.ride.driver.email},id:"tipDriverBtn",className:"riderBtn pageBtn",children:"Tip Driver"})]}):Object(v.jsxs)("div",{className:"btnsContainer",children:[Object(v.jsx)("button",{id:"CancelConfirmationBtn",className:"pageBtn cancelRideBtn",onClick:e.handleConfirmationPageBtnPress,children:"Cancel"}),Object(v.jsx)("button",{id:"confirmRideBtn",className:"riderBtn pageBtn",onClick:e.handleConfirmationPageBtnPress,children:"Confirm"})]})]})},ne=(a(114),function(e){var t=Object(n.useState)({lat:40.758,lng:-73.9855}),a=Object(p.a)(t,2),r=a[0],i=(a[1],Object(n.useState)([])),c=Object(p.a)(i,2),s=c[0],o=c[1],l=Object(n.useState)(!1),d=Object(p.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(!1),h=Object(p.a)(b,2),O=h[0],m=h[1],f=Object(n.useState)(!1),x=Object(p.a)(f,2),g=x[0],k=x[1],C=Object(n.useState)(!1),N=Object(p.a)(C,2),R=N[0],S=N[1],D=Object(n.useState)(!1),M=Object(p.a)(D,2),P=M[0],T=M[1],B=Object(n.useState)(!1),L=Object(p.a)(B,2),F=L[0],U=L[1],I=Object(n.useState)(null),E=Object(p.a)(I,2),H=E[0],_=E[1],A=Object(n.useState)(null),V=Object(p.a)(A,2),W=V[0],G=V[1],K=Object(n.useState)({}),q=Object(p.a)(K,2),Y=q[0],$=q[1],z=Object(n.useContext)(he);Object(n.useEffect)((function(){y.a.get("/api/riders/rides",{params:{riderLocation:r,userId:z.id}}).then((function(e){o(e.data);var t=e.data.filter((function(e){return e.rider_id===z.id}));t.length>0&&($(t[0]),m(!0),T(!P))})).catch((function(e){console.log("err in back to client",e)}))}),[]);var J=Object(v.jsxs)("div",{id:"riderConfirmationModal",className:"riderModal",children:[Object(v.jsx)("span",{children:"Ride Confirmed!"}),Object(v.jsx)("span",{children:"Your driver has been notified."}),Object(v.jsx)("button",{className:"riderBtn",onClick:function(){k(!1)},children:"Ok"})]}),X=Object(v.jsxs)("div",{id:"riderCancelRideModal",className:"riderModal",children:[Object(v.jsx)("span",{children:"Are you sure you want to cancel?"}),Object(v.jsx)("button",{className:"riderBtn cancelRideBtn",onClick:function(){var e=s[H]?s[H].id:Y.id;y.a.put("/api/riders/cancel",{id:e,riderName:z.first_name}).then((function(){S(!1),j(!1),m(!1),U(!1),_(!1),T(!P)})).catch((function(e){console.log(e)}))},children:"Yes"}),Object(v.jsx)("button",{className:"riderBtn",onClick:function(){S(!1)},children:"No"})]});return Object(v.jsxs)("div",{id:"Rider",children:[Object(v.jsx)(w,{}),g?J:null,R?X:null,Object(v.jsxs)("div",{id:"riderView",children:[Object(v.jsx)(Z,{nearbyRides:s,riderLocation:r,reRender:P,markerClicked:F,whichMarkerClicked:H,handleMarkerClick:function(e){U(!0),T(!P),_(e),j(!0)},rideConfirmed:O,confirmedRide:Y}),u||O?Object(v.jsx)(ae,{ride:null!==W||null!==H?s[H]?s[H]:s[W]:Y,handleConfirmationPageBtnPress:function(e){if("Confirm"===e.target.innerText){var t=s[H]?s[H].id:Y.id,a=z.id;y.a.put("/api/riders/confirm",{id:t,riderId:a,riderName:z.first_name}).then((function(){m(!0),k(!0)})).catch((function(e){console.log(e)}))}else j(!1),U(!1),_(null),T(!P)},handlePostConfirmationCanellationBtnPress:function(e){S(!0)},rideConfirmed:O}):Object(v.jsx)(te,{nearbyRides:s,handleSelectRide:function(e){j(!0),G(e),_(e),U(!0),T(!P)}})]})]})}),re=["component","userId","handleBalanceUpdate"];var ie=function(e){var t=e.component,a=e.userId,r=e.handleBalanceUpdate,i=Object(D.a)(e,re),c=Object(n.useContext)(he).id;return Object(v.jsx)(h.b,Object(_.a)(Object(_.a)({},i),{},{render:function(e){return c?Object(v.jsx)(t,Object(_.a)({userId:a,handleBalanceUpdate:r},e)):Object(v.jsx)(h.a,{to:"/login"})}}))},ce=a(14),se=a.n(ce),oe=a(28);a(115);var le=function(e){var t=e.currentBalance;return Object(v.jsxs)("div",{id:"current-balance",children:[Object(v.jsx)("h3",{children:"Current Balance:"}),Object(v.jsxs)("h1",{children:["$ ",t]})]})},de={getBalance:function(){var e=Object(oe.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("/api/balance/get-balance/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deposit:function(){var e=Object(oe.a)(se.a.mark((function e(t,a){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("/api/balance/deposit/".concat(t),{amount:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),withdraw:function(){var e=Object(oe.a)(se.a.mark((function e(t,a){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("/api/balance/withdraw/".concat(t),{amount:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),transfer:function(){var e=Object(oe.a)(se.a.mark((function e(t,a,n){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("/api/balance/transfer",{userIdSending:t,userEmailReceiving:a,amount:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},ue=de;var je=function(e){var t=e.handleBalanceUpdate,a=e.location,r=Object(n.useState)("0"),i=Object(p.a)(r,2),c=i[0],s=i[1],o=Object(n.useState)(""),l=Object(p.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(!1),b=Object(p.a)(j,2),h=b[0],O=b[1],m=Object(n.useState)(!1),f=Object(p.a)(m,2),x=f[0],g=f[1],k=Object(n.useState)(!1),C=Object(p.a)(k,2),y=C[0],N=C[1],R=Object(n.useState)(!1),S=Object(p.a)(R,2),D=S[0],M=S[1],P=Object(n.useState)(!0),T=Object(p.a)(P,2),B=T[0],L=T[1],F=Object(n.useState)(!1),U=Object(p.a)(F,2),I=U[0],E=U[1],H=Object(n.useContext)(he);Object(n.useEffect)((function(){"email"in a&&u(a.email)}),[a]);var _=function(){var e=Object(oe.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,M(!1),g(!1),N(!1),E(!1),!(c>H.balance)){e.next=8;break}return O(!0),e.abrupt("return");case 8:if(!(c<1)){e.next=11;break}return E(!0),e.abrupt("return");case 11:return O(!1),e.next=14,ue.transfer(H.id,d,c);case 14:M(!0),L(!1),t(H.balance-parseFloat(c)),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0.message),405===e.t0.response.status&&g(!0),404===e.t0.response.status&&N(!0);case 24:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"balance",children:[Object(v.jsx)(w,{}),Object(v.jsx)(le,{currentBalance:H.balance.toFixed(2)}),B&&Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"balance-form",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{className:"balance-instructions",children:"Enter email address of driver"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{"data-testid":"driver-email",className:y?"input-error":"",value:d,onChange:function(e){u(e.target.value),N(!1)}})}),y&&Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"balance-error",children:"There is no user found with this email address"}),Object(v.jsx)("div",{className:"balance-error",children:"Please Try Again"})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("label",{className:"balance-instructions",children:"Enter Tip Amount"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{"data-testid":"tip-amount",className:I||h?"input-error":"",value:c,type:"number",min:"0.00",step:"0.01",onChange:function(e){s(e.target.value),O(!1),E(!1)}})}),I&&Object(v.jsx)("div",{className:"balance-error",children:"Please enter a valid Tip amount"}),h&&Object(v.jsx)("div",{className:"balance-error",children:"You cannot send more than your current balance"}),x&&Object(v.jsx)("div",{className:"balance-error",children:"You cannot send money to yourself"})]})]}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{type:"button",className:"transfer-button",onClick:_,children:"Send Tip"})})]}),D&&Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"balance-success",children:"Success!"}),Object(v.jsxs)("div",{className:"balance-success",children:["You just send $ ",parseFloat(c).toFixed(2)," to ",d]}),Object(v.jsx)("button",{className:"transfer-button",type:"button",onClick:function(){L(!0),M(!1),u(""),s("0")},children:"Back to Tip Form"})]})]})};var be=function(e){var t=e.handleBalanceUpdate,a=Object(n.useState)(""),r=Object(p.a)(a,2),i=r[0],c=r[1],s=Object(n.useState)(!1),o=Object(p.a)(s,2),l=o[0],d=o[1],u=Object(n.useState)(!1),j=Object(p.a)(u,2),b=j[0],h=j[1],O=Object(n.useState)(!1),m=Object(p.a)(O,2),f=m[0],x=m[1],g=Object(n.useState)(!1),k=Object(p.a)(g,2),C=k[0],y=k[1],N=Object(n.useState)(""),R=Object(p.a)(N,2),S=R[0],D=R[1],M=Object(n.useState)(""),P=Object(p.a)(M,2),T=P[0],B=P[1],L=Object(n.useContext)(he),F=function(){var e=Object(oe.a)(se.a.mark((function e(){var a,n,r;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=i,c(""),y(!1),d(!1),h(!1),x(!1),a){e.next=10;break}return y(!0),e.abrupt("return");case 10:return e.next=12,ue.deposit(L.id,a);case 12:n=e.sent,201===n.status&&(D(a),h(!0),r=L.balance+parseFloat(a),t(r)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(oe.a)(se.a.mark((function e(){var a,n,r;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=i,c(""),y(!1),h(!1),x(!1),a){e.next=9;break}return y(!0),e.abrupt("return");case 9:if(!(a>L.balance)){e.next=12;break}return d(!0),e.abrupt("return");case 12:return d(!1),e.next=15,ue.withdraw(L.id,a);case 15:n=e.sent,201===n.status&&(B(a),x(!0),r=L.balance-parseFloat(a),t(r)),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"balance",children:[Object(v.jsx)(w,{}),Object(v.jsx)(le,{currentBalance:L.balance.toFixed(2)}),Object(v.jsxs)("div",{className:"balance-form",children:[Object(v.jsx)("div",{children:Object(v.jsx)("label",{className:"balance-instructions",children:"Enter amount to deposit or withdraw"})}),Object(v.jsxs)("div",{children:[Object(v.jsx)("input",{"data-testid":"transfer-amount",className:C||l?"tip-amount input-error":"tip-amount",value:i,type:"number",min:"0.00",step:"0.01",onChange:function(e){c(e.target.value),y(!1),d(!1)}}),l&&Object(v.jsx)("div",{className:"balance-message balance-error",id:"balance-error",children:"You cannot withdraw more than your current balance"}),C&&Object(v.jsx)("div",{className:"balance-error",children:"Please enter a valid amount to transfer"})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{className:"transfer-button",type:"button",onClick:F,children:"Deposit"}),Object(v.jsx)("button",{className:"transfer-button",type:"button",onClick:U,children:"Withdraw"})]}),b&&Object(v.jsxs)("div",{className:"balance-message-container",children:[Object(v.jsx)("div",{className:"balance-message balance-success",children:"SUCCESS!"}),Object(v.jsxs)("div",{className:"balance-message balance-success",children:["$ ",parseFloat(S).toFixed(2)," has been added to your account"]})]}),f&&Object(v.jsxs)("div",{className:"balance-message-container",children:[Object(v.jsx)("div",{className:"balance-message balance-success",children:"SUCCESS!"}),Object(v.jsxs)("div",{className:"balance-message balance-success",children:["$ ",parseFloat(T).toFixed(2)," has been withdrawn from your account"]})]})]})},he=(a(116),r.a.createContext()),pe=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var n,r,i,c,s,l;return Object(o.a)(this,a),(l=t.call(this,e)).handleLogin=l.handleLogin.bind(Object(d.a)(l)),l.handleBalanceUpdate=l.handleBalanceUpdate.bind(Object(d.a)(l)),l.state={email:(null===(n=l.props.data)||void 0===n?void 0:n.email)||"",first_name:(null===(r=l.props.data)||void 0===r?void 0:r.first_name)||"",last_name:(null===(i=l.props.data)||void 0===i?void 0:i.last_name)||"",id:(null===(c=l.props.data)||void 0===c?void 0:c.id)||"",balance:(null===(s=l.props.data)||void 0===s?void 0:s.balance)||0},l}return Object(l.a)(a,[{key:"handleLogin",value:function(e){for(var t in e)this.setState(Object(s.a)({},t,null===e[t]?0:e[t]))}},{key:"handleBalanceUpdate",value:function(e){this.setState({balance:e})}},{key:"render",value:function(){var e=this.state.id;return Object(v.jsx)(b.a,{children:Object(v.jsxs)(h.d,{children:[Object(v.jsx)(h.b,{exact:!0,path:"/login",children:Object(v.jsx)(S,{login:this.handleLogin})}),Object(v.jsx)(h.b,{exact:!0,path:"/register",children:Object(v.jsx)(P,{login:this.handleLogin})}),Object(v.jsxs)(he.Provider,{value:this.state,children:[Object(v.jsx)(ie,{exact:!0,path:"/",component:R,userId:e}),Object(v.jsx)(ie,{exact:!0,path:"/driver",component:Y,userId:e}),Object(v.jsx)(ie,{exact:!0,path:"/rider",component:ne,userId:e}),Object(v.jsx)(ie,{exact:!0,path:"/balance-update",component:be,handleBalanceUpdate:this.handleBalanceUpdate}),Object(v.jsx)(ie,{exact:!0,path:"/balance-transfer",component:je,handleBalanceUpdate:this.handleBalanceUpdate})]}),Object(v.jsx)(h.b,{path:"/",children:Object(v.jsx)("div",{children:"404 Not Found"})})]})})}}]),a}(r.a.Component),Oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,118)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};y.a.get("/api/logins/checkAuth").then((function(e){return Promise.resolve(e.data)})).then((function(e){c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(pe,{data:e,isLoggedIn:!0})}),document.getElementById("root"))})).catch((function(e){c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(pe,{isLoggedIn:!1})}),document.getElementById("root"))})),Oe()},60:function(e,t,a){},61:function(e,t,a){},76:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.f8635f1c.chunk.js.map